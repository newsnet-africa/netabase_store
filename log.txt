=== Relational Links Example ===

1. Inserting linked entities:
   âœ“ Inserted author: Alice Johnson
   âœ“ Inserted category: Technology
   âœ“ Inserted tags: Rust and Database

2. Inserting post with relational links:
   âœ“ Inserted post: Building Databases with Rust

3. Retrieving post and resolving links:
   Retrieved post: Building Databases with Rust
   âœ“ Linked author: Alice Johnson
   âœ“ Linked category: Technology
   âœ“ Linked tags:
     - Rust: #CE422B
     - Database: #4A90E2

4. Inserting comment with links:
   âœ“ Inserted comment: Great post! Very informative about Rust databases.
   Retrieved comment: Great post! Very informative about Rust databases.
   âœ“ Comment is on post: Building Databases with Rust
   âœ“ Comment author: Alice Johnson

5. Demonstrating different RelationalLink variants:
   âœ“ Inserted post with embedded author entity
   âœ“ Retrieved embedded author: Bob Smith

âœ… Relational links example completed successfully!
ğŸ”Œ Backend Subscription Integration Example
============================================

ğŸ“¦ Creating temporary sled store...
  âœ… Store created

ğŸ”§ Creating subscription manager...
  âœ… Manager created
  Topics available: [Users, Posts]

ğŸ“ Sample data created:
  User: Alice (alice@example.com)
  Post: Getting Started with Netabase

ğŸ’¾ Storing data and updating subscriptions...
  âœ… User stored in database
  âœ… User subscription updated
  âœ… Post stored in database
  âœ… Post subscription updated

ğŸ“Š Subscription Statistics:
  Total items tracked: 2
  Active topics: 2

ğŸŒ² Merkle Tree Roots (for sync):
  Users: [ba, bb, 45, cc, cb, 38, 23, ac]
  Posts: [f0, 1e, 5a, ac, c9, c8, 5c, fb]

ğŸ”„ Demonstrating Synchronization:
  Creating a second manager (simulating remote node)...
  âœ… Remote manager populated

ğŸ” Comparing local and remote subscriptions:
  ğŸ”„ Found 1 topic(s) with differences:

  Topic: Users
    Missing in local: 1 items
    Missing in remote: 1 items
    Different values: 0 items

ğŸ—‘ï¸  Demonstrating removal with subscription update:
  âœ… Post unsubscribed, hash: ModelHash("ee1ea2b2914a6d9e97d204e5ecde3e10dc2d0a6734d96d08fb4290631142a6ff")
  Updated stats - Total items: 1

âœ¨ Example completed successfully!

ğŸ’¡ Key Takeaways:
   â€¢ Subscription managers track data changes using merkle trees
   â€¢ Store operations can be integrated with subscription updates
   â€¢ Merkle roots enable efficient synchronization checks
   â€¢ Differences can be identified and resolved between nodes
   â€¢ Manual integration gives full control over when subscriptions update
Get Result: Ok(Some(User { name: "It's You!", age: 24, email: "some@email.com" }))
Get Secondary Result: Ok([User { name: "It's You!", age: 24, email: "some@email.com" }])
Get Result: Ok(Some(User { name: "It's Me!", age: 20, email: "some@email.com" }))
Get Secondary Result: Ok([User { name: "It's Me!", age: 20, email: "some@email.com" }, User { name: "It's You!", age: 24, email: "some@email.com" }])

âœ“ Basic store operations completed successfully!

ğŸ’¡ Backend Compatibility:
   â€¢ This example uses Sled, but works identically with:
     - Redb: Change NetabaseStore::sled() to ::redb()
     - Temporary: Use ::temp() for auto-cleanup testing
   â€¢ All operations (put, get, query, iterate) are identical!
   â€¢ See examples/batch_operations.rs and examples/transactions.rs
=== Batch Atomicity Example ===

Example 1: Successful Atomic Transfer
--------------------------------------
âœ“ Created 3 accounts
Transferring $100.00 from account 1 to account 2
  Before: Alice has $1000.00, Bob has $500.00
  After:  Alice has $900.00, Bob has $600.00
âœ“ Transfer completed atomically

Example 2: Multiple Account Updates
------------------------------------
Applying interest to all savings accounts...
Found 1 savings accounts
  Charlie +$100.00 interest
âœ“ Applied interest to all savings accounts atomically
  Charlie now has $2100.00

Example 3: Conditional Batch Processing
----------------------------------------
Processing fee deductions (only if all accounts have sufficient balance)...
  Deducting $50.00 from Alice
  Deducting $50.00 from Bob
âœ“ Deducted fees from all checking accounts atomically

âœ… All atomicity examples completed successfully!
=== Batch Import Example ===

Importing book catalog...
Generated 2000 sample books
  Imported 500 books...
  Imported 1000 books...
  Imported 1500 books...
  Imported 2000 books...
âœ“ Import completed in 63.473842ms
âœ“ Total books in database: 2000

--- Catalog Statistics ---
  Fiction: 400 books
  Science: 400 books
  History: 400 books
  Biography: 400 books
  Fantasy: 400 books

Updating availability status...
Updating 400 Fiction books...
âœ“ Updated all Fiction books atomically
âœ“ Verification: 400/400 Fiction books are now unavailable

âœ… Batch import example completed successfully!
=== Netabase Store: Batch Operations Example ===

Example 1: Basic Batch Insert
-------------------------------
âœ“ Successfully inserted 3 products using batch operation
âœ“ Found 2 electronics products

Example 2: Performance Comparison
----------------------------------
Individual puts: 1000 items in 69.410295ms
Batch operation: 1000 items in 28.762719ms
âœ“ Batch operations were 2.41x faster!

Example 3: Mixed Batch Operations
----------------------------------
âœ“ Added 10 temporary products
âœ“ Updated 5 products and removed 5 products in one atomic operation
âœ“ Found 5 updated products

Example 4: Cross-Model Operations
----------------------------------
âœ“ Inserted 3 products
âœ“ Inserted 5 orders referencing those products
âœ“ All operations completed atomically within their model type
âœ… All batch operation examples completed successfully!

ğŸ’¡ Backend Compatibility:
   This example uses Sled, but BOTH sync backends support batch operations:
   â€¢ Sled: Native, persistent (shown here)
   â€¢ Redb: Native, persistent (same API)

   For testing: Use temp() methods for fast, isolated tests
ğŸš€ Netabase Store Comprehensive Feature Showcase
================================================

ğŸ“¦ Testing Backend Availability
==============================
âœ“ Sled backend available
  â€¢ Sled backend test passed
âœ“ Redb backend available
  â€¢ Redb backend test passed
âœ“ LibP2P integration available

ğŸ”„ Unified API Demonstration
============================
â€¢ Demonstrating unified API across backends...
  â€¢ Testing Sled backend...
    âœ“ Basic operations work on Sled
  â€¢ Testing ReDB backend...
    âœ“ Basic operations work on ReDB

ğŸ“ CRUD Operations Demonstration
================================
â€¢ Creating sample data...
  âœ“ Created user and blog post
â€¢ Reading data...
  âœ“ Successfully read data
â€¢ Updating data...
  âœ“ Successfully updated data
â€¢ Deleting data...
  âœ“ Successfully deleted data

ğŸ”‘ Secondary Key Demonstration
==============================
â€¢ Setting up test data...
â€¢ Querying users by role...
  âœ“ Found 2 authors
  âœ“ Found 1 admins
â€¢ Querying posts by publication status...
  âœ“ Found 2 published posts
  âœ“ Found 1 draft posts
â€¢ Querying posts by author...
  âœ“ Found 2 posts by Bob

ğŸ“¦ Batch Operations Demonstration
=================================
â€¢ Generating batch data...
â€¢ Performing batch insert of 1000 users...
  âœ“ Batch insert completed in 89.036971ms
â€¢ Performing batch read...
  âœ“ Batch read of 1000 users completed in 4.156535ms
â€¢ Performing batch delete of first 100 users...
  âœ“ Batch delete of 100 users completed in 7.047276ms
  âœ“ 900 users remaining after batch delete

ğŸ’³ Transaction Demonstration
============================
â€¢ RedbZeroCopy backend not available, skipping transaction demo
  Note: Other backends have implicit transaction support

âš™ï¸  Configuration Options Demonstration
=======================================
â€¢ Demonstrating FileConfig builder pattern...
  âœ“ Created config with 512MB cache, fsync enabled
  âœ“ Sled store works with custom configuration
â€¢ Demonstrating temporary stores for testing...
  âœ“ Temporary store created and used (5 users)

ğŸ“Š Data Types Demonstration
===========================
â€¢ Testing various data types...
  âœ“ User model with various data types
  âœ“ BlogPost model with Option and Vec types
  âœ“ Comment model with None optional value
  âœ“ Comment model with Some optional value

ğŸš€ Performance Features Demonstration
=====================================
â€¢ Demonstrating bulk operation performance...
  â€¢ Individual inserts (1000): 93.402368ms
  â€¢ Bulk insert (10000): 1.109196825s
  âœ“ Bulk operations are significantly faster
â€¢ Demonstrating query performance...
  â€¢ Primary key queries (100 queries): 555.081Âµs
  â€¢ Secondary key query (found 100 admins): 847.499Âµs
  âœ“ Query performance is excellent even with large datasets
â€¢ Demonstrating iteration performance...
  â€¢ Full iteration (10000 records): 30.505486ms
  âœ“ Iteration performance scales well

ğŸŒ LibP2P Integration Demonstration
===================================
â€¢ Demonstrating DHT Record storage...
Failed to put DHT record: ValueTooLarge

âœ… Comprehensive showcase completed successfully!
   All demonstrated features are working correctly.
=== Configuration API Showcase ===

1. Builder Pattern Configuration
   Most ergonomic with IDE autocomplete
   Config: path="/tmp/config_demo_builder.db", cache=512MB
   âœ“ Stored and retrieved: Some(User { id: 1, username: "alice", email: "alice@example.com" })

2. Simple Constructor
   Quick setup with defaults
   Config: path="/tmp/config_demo_simple.redb", using defaults (cache=256MB)
   âœ“ Stored and retrieved: Some(Post { id: 1, title: "Configuration API Guide", author_id: 1 })

3. Temporary Database (Testing)
   Perfect for unit tests
   Creating temporary database (no path needed)
   âœ“ Temporary store works: Some(User { id: 100, username: "temp_user", email: "temp@example.com" })
   (Database will be deleted on program exit)

4. Backend Portability
   Switch backends with same config
   Using single config across all backends
   âœ“ Sled backend works
=== Recursive Relations Example ===

1. Testing relation insertion with embedded entities...
   âœ“ Post and all related entities inserted
ğŸš€ Redb Backend Example

ğŸ“ Creating database at: /tmp/redb_example.db
ğŸš€ Redb Zero-Copy Backend Example

ğŸ“ Creating database at: /tmp/redb_zerocopy_example.db
=== RelationalLink Showcase (Vec/Option/Box Support) ===

1. Testing post with wrapped RelationalLinks...
   âœ“ Post with wrapped relations created successfully
   - Author: RelationalLink (direct)
   - Category: Option<RelationalLink>
   - Tags: Vec<RelationalLink> (2 tags)
   - Editor: Box<RelationalLink>

2. Basic insertion works
   âœ“ Post retrieved: Introduction to Rust
   âœ“ Category (Option, Entity): Technology
   âœ“ Tags (Vec): 2 tags
     - Tag 1: rust
     - Tag 2: programming
   âœ“ Editor (Box, Entity): bob

=== Summary ===
âœ“ Type detection works for Vec/Option/Box<RelationalLink>
âœ“ Models compile with wrapped relations
âœ“ Serialization/deserialization works
âœ“ Basic storage operations work

Note: Automatic relation insertion for Vec/Option/Box is a future enhancement.
Currently, you need to insert related entities manually.
=== Simple Relational Links Example ===

1. Inserting author:
   âœ“ Inserted author: Alice Johnson

2. Inserting post with author key reference:
   âœ“ Inserted post: My First Post

3. Retrieving post and resolving author:
   Retrieved post: My First Post
   âœ“ Resolved author: Alice Johnson

4. Inserting post with embedded author entity:
   âœ“ Inserted post with embedded author: Second Post
   âœ“ Retrieved embedded author: Bob Smith

5. Verification - listing all posts:
=== Simple Relation Test ===
âœ“ User stored successfully
âœ“ Post stored successfully
âœ“ Post retrieved: Hello World
âœ“ Author is embedded: John Doe

=== Relation Metadata ===
Post has relations with custom names:
- post_author -> User

=== Test Complete ===
=== Simple Relations Test ===

1. Testing basic model insertion...
   âœ“ User inserted successfully
   âœ“ Post inserted successfully

2. Testing relation detection...
   User has relations: false
   Post has relations: true

3. Testing generated relation enum...
   Post relation enum has been generated (compile-time verification)

4. Testing relation helper methods...
   Author relation type: Entity
   Author name: Alice Johnson

5. Testing relation insertion method...
   âœ“ Post with relations inserted successfully

6. Verifying data integrity...
ğŸš€ Simple Netabase Streams Test
================================

ğŸ“‹ Testing basic subscription functionality...
  - UserTopic: UserTopic
  - PostTopic: PostTopic

ğŸ”§ Testing subscription manager...
  âœ… Manager created successfully

ğŸŒ² Testing subscription tree access:
  âœ… UserTopic tree accessible
  âœ… PostTopic tree accessible

âœ¨ Simple streams test completed successfully!

ğŸ’¡ This demonstrates:
   - Streams macro integration with netabase_definition_module
   - Generated subscription topics enum
   - Subscription manager creation
   - Topic-based tree access
ğŸš€ Netabase Subscription System Demo
=====================================

ğŸ“Š Available subscription topics:
   - Users (for user-related data)
   - Posts (for post-related data)
   - Comments (for comment-related data)

ğŸ“ Sample Data Created:
   Users: Alice (1), Bob (2)
   Posts: Introduction to Rust (by user 1)
   Comments: Great post! Very informative. (on post post-101)

ğŸ” Subscription System Concepts:
   1. Each topic (Users, Posts, Comments) would have its own merkle tree
   2. When data is added/modified, it gets hashed and added to relevant topic trees
   3. Merkle roots can be compared between nodes to detect differences
   4. Exact differing keys can be identified for efficient synchronization

ğŸŒ³ Simulated Merkle Tree Operations:
   User hashes:
     Alice: 5618bdd9c600893d
     Bob:   9bc565b8300f16dc
   Post hashes:
     Post 101: e7566548917e9e68
   Comment hashes:
     Comment 201: c58ab76aa4e81797

ğŸ”„ Simulated Node Synchronization:
   Node A has: Alice, Bob, Post 101, Comment 201
   Node B has: Alice, Post 101 (missing Bob and Comment 201)

   Merkle root comparison would show:
   - Users topic: DIFFERENT (Node B missing Bob)
   - Posts topic: SAME (both have Post 101)
   - Comments topic: DIFFERENT (Node B missing Comment 201)

   Sync plan would identify:
   - Node B needs: User 2 (Bob), Comment 201 (Comment 201)

âœ… Subscription System Features Demonstrated:
   âœ“ Topic-based data organization
   âœ“ Efficient hash-based change detection
   âœ“ Merkle tree comparison for synchronization
   âœ“ Precise identification of missing data
   âœ“ Automated subscription management

ğŸ¯ Next Steps for Full Implementation:
   â€¢ Complete macro generation of subscription infrastructure
   â€¢ Integrate with database backends (memory, sled, redb)
   â€¢ Add network synchronization protocols
   â€¢ Implement conflict resolution strategies
   â€¢ Add subscription filtering and custom topic assignment
ğŸš€ Netabase Subscription Streams Example
=========================================

ğŸ“‹ Available subscription topics:
  - UserTopic
  - PostTopic
  - CommentTopic

ğŸ“ Sample data created:
  User: alice (alice@example.com)
  Post: Hello, World!
  Comment: Great post!

âœ… Subscription manager created

ğŸ“Š Adding items to subscription trees...
  âœ… User added to UserTopic subscription
  âœ… Post added to PostTopic subscription
  âœ… Comment added to CommentTopic subscription

ğŸ” Subscription tree information:
  UserTopic tree: 1 items
  PostTopic tree: 1 items
  CommentTopic tree: 1 items

ğŸŒ² Demonstrating merkle tree comparison...
  ğŸ”„ Found 2 topic(s) with differences:
    UserTopic: 2 total differences
      - Missing in first: 1
      - Missing in second: 1
      - Different values: 0
    CommentTopic: 1 total differences
      - Missing in first: 0
      - Missing in second: 1
      - Different values: 0

âœ¨ Example completed successfully!

ğŸ’¡ This demonstrates how subscription streams enable:
   - Efficient tracking of data changes by topic
   - Merkle tree-based comparison for synchronization
   - Type-safe subscription management
   - Scalable data organization by topic
ğŸ”¥ Transaction API Example

âœ… Created temporary Sled store

ğŸ’¡ Note: Transaction API is identical on Sled and Redb backends

ğŸ“– Example 1: Read-Only Transaction
   Multiple concurrent reads without blocking

   Users: 0, Posts: 0
   Transaction auto-closes on drop

âœï¸  Example 2: Read-Write Transaction (Single Insert)
   Inserted: alice
   âœ… Transaction committed

âš¡ Example 3: Bulk Inserts with Transaction
   Single transaction for 1000 inserts (10-100x faster!)

   Inserted 1000 users in 29.491846ms
   Average: 29.491Âµs per insert
   âœ… All changes committed atomically

ğŸ“¦ Example 4: Bulk Operation Helpers
   Using put_many() for even more convenience

   Inserted 100 users with put_many() in 3.17273ms
   âœ… Bulk operation committed

ğŸŒ³ Example 5: Multi-Tree Operations
   Working with multiple models in one transaction

   Inserted user: blogger
   Inserted post: Post #1
   Inserted post: Post #2
   Inserted post: Post #3
   Inserted post: Post #4
   Inserted post: Post #5
   âœ… User and 5 posts committed atomically

ğŸ” Example 6: Query by Secondary Key
   Found 5 posts for user 2000
     - Post #1
     - Post #2
     - Post #3
     - Post #4
     - Post #5

ğŸ“š Example 7: Bulk Read Operations
   Fetched 10 users: 10 found

â†©ï¸  Example 8: Transaction Rollback
   Changes not committed = automatic rollback

   Inserted user 9999 (but not committing...)
   Count before: 1102, after: 1103
   âœ… Changes rolled back automatically

ğŸ”’ Example 9: Compile-Time Safety
   Read-only transactions cannot modify data

   âœ… Compile-time enforcement: put() not available on ReadOnly

ğŸ“Š Final Statistics

   Total users: 1103
   Total posts: 5

âœ¨ Example complete!

ğŸ’¡ Key Takeaways:
   â€¢ Transactions eliminate per-operation overhead (10-100x faster)
   â€¢ Type-state pattern provides compile-time safety
   â€¢ Zero-cost abstractions (phantom types compile away)
   â€¢ Automatic rollback on drop if not committed
   â€¢ Works with both read-only and read-write operations

ğŸ”„ Backend Compatibility:
   â€¢ This example uses Sled, but the API is IDENTICAL on:
     - Redb: Same transaction API, zero-copy reads
   â€¢ For testing: Use temp() methods for fast, isolated tests
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         Unified NetabaseStore API Example                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

This example demonstrates that the SAME CODE works across all backends!

Backend 1: SLED
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Type: Native, persistent, crash-safe
Best for: General purpose, high write throughput

  âœ“ Inserted user
  âœ“ Retrieved user by primary key
  âœ“ Found user by secondary key (email)
  âœ“ Count: 1 users
  ğŸ’¡ Sled-specific feature: Flushed 55 bytes

Backend 2: REDB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Type: Native, persistent, zero-copy reads
Best for: Read-heavy workloads, memory efficiency

  âœ“ Inserted user
  âœ“ Retrieved user by primary key
  âœ“ Found user by secondary key (email)
  âœ“ Count: 1 users
  ğŸ’¡ Redb-specific feature: Tree names: [User]

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        SUMMARY                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… The SAME API worked on BOTH backends:
   â€¢ put() - Insert/update records
   â€¢ get() - Retrieve by primary key
   â€¢ get_by_secondary_key() - Query by secondary key
   â€¢ len() - Count records
   â€¢ All operations have identical signatures

ğŸ’¡ Key Insights:
   1. Write code once, run on any backend
   2. Switch backends by changing ONE line (initialization)
   3. Backend-specific features still accessible when needed
   4. All backends support same data models and secondary keys

ğŸ¯ When to Use Each Backend:
   â€¢ Sled:   General purpose, production apps
   â€¢ Redb:   Read-heavy workloads, embedded systems
   â€¢ For testing: Use temp() methods for fast, isolated tests

ğŸ“š For More Examples:
   â€¢ examples/batch_operations.rs - Batch operations
   â€¢ examples/transactions.rs - Transaction API
   â€¢ tests/backend_crud_tests.rs - Comprehensive tests

âœ… All tests passed!

running 15 tests
test config::tests::test_file_config_builder ... ok
test config::tests::test_file_config_defaults ... ok
test databases::redb_store::introspection::tests::test_classify_tree_type ... ok
test config::tests::test_memory_config_default ... ok
test databases::sled_store::introspection::tests::test_classify_tree_type ... ok
test subscription::subscription_tree::tests::test_model_hash_creation ... ok
test subscription::subscription_tree::tests::test_manager_comparison ... ok
test subscription::subscription_tree::tests::test_subscription_manager ... ok
test subscription::subscription_tree::tests::test_subscription_diff ... ok
test subscription::subscription_tree::tests::test_subscription_diff_conflicting_values ... ok
test subscription::subscription_tree::tests::test_subscription_tree_basic_operations ... ok
test utils::datetime::tests::test_netabase_datetime_creation ... ok
test utils::datetime::tests::test_netabase_datetime_methods ... ok
test utils::datetime::tests::test_netabase_datetime_trait ... ok
test utils::datetime::tests::test_netabase_datetime_type_alias ... ok

test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 18 tests
test redb_tests::test_redb_create_store ... ok
test redb_tests::test_redb_clear_and_len ... ok
test redb_tests::test_redb_secondary_key_single_result ... ok
test redb_tests::test_redb_multiple_models ... ok
test redb_tests::test_redb_iteration ... ok
test redb_tests::test_redb_string_primary_key ... ok
test redb_tests::test_redb_secondary_key_with_bool ... ok
test redb_tests::test_redb_secondary_key_multiple_results ... ok
test redb_tests::test_redb_crud_operations ... ok
test sled_tests::test_sled_create_store ... ok
test sled_tests::test_sled_string_primary_key ... ok
test sled_tests::test_sled_multiple_models ... ok
test sled_tests::test_sled_secondary_key_with_bool ... ok
test sled_tests::test_sled_secondary_key_single_result ... ok
test sled_tests::test_sled_crud_operations ... ok
test sled_tests::test_sled_secondary_key_multiple_results ... ok
test sled_tests::test_sled_iteration ... ok
test sled_tests::test_sled_clear_and_len ... ok

test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.06s


running 17 tests

ğŸ§ª Running comprehensive workflow test...

âœ… Created user: alice
âœ… Created post 1
test test_secondary_key_query_no_results ... ok
âœ… Created post 2
test test_empty_database ... ok
âœ… Created post 3
test test_create_and_read_user ... ok
test test_delete_user ... ok
test test_duplicate_primary_key_overwrites ... ok
âœ… Created comment on post 1
test test_large_string_fields ... ok
âœ… Created comment on post 1
âœ… Created comment on post 2
âœ… Created comment on post 2
test test_zero_values ... ok
test test_secondary_key_query_single_result ... ok
test test_multiple_models ... ok
âœ… Created comment on post 3
test test_unicode_strings ... ok
âœ… Created comment on post 3
test test_update_user ... ok
test test_multiple_secondary_keys ... ok
âœ… Queried 3 posts by author
test test_secondary_key_query_multiple_results ... ok
âœ… Queried 2 comments for post 1
âœ… Updated user email
âœ… Deleted post 2
âœ… Verified post deletion

ğŸ‰ Comprehensive workflow test PASSED!

test test_sequential_reads_and_writes ... ok
test test_comprehensive_workflow ... ok
test test_batch_delete ... ok
test test_batch_insert ... ok

test result: ok. 17 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.09s


running 9 tests
test test_deadlock_prevention ... FAILED
Completed iteration 1
test test_concurrent_store_lifecycle ... ok
Expected: 1000, Actual: 192
test test_concurrent_secondary_key_queries ... ok
test test_concurrent_increment_sled ... ok
test test_concurrent_reads_sled ... ok
Completed iteration 2
Completed iteration 3
test test_concurrent_batch_operations ... ok
Completed iteration 4
Completed iteration 5
Completed iteration 6
test test_concurrent_writes_sled ... ok
Completed iteration 7
Completed iteration 8
Completed iteration 9
Completed iteration 10
test test_concurrent_resource_cleanup ... ok
test test_memory_pressure_concurrent ... ok

failures:

failures:
    test_deadlock_prevention

test result: FAILED. 8 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.97s

