[definition]
name = "User"
version = "1"

[model]
fields = [
    { name = "id", type = "u64" },
    { name = "email", type = "String" },
    { name = "username", type = "String" },
    { name = "name", type = "String" },
    { name = "role", type = "String" },
    { name = "created_at", type = "String" },
    { name = "is_active", type = "bool" },
]

[keys]
[keys.primary]
field = "id"
key_type = "UserId"

[[keys.secondary]]
name = "Email"
field = "email"
unique = true

[[keys.secondary]]
name = "Username"
field = "username"
unique = true

[[keys.secondary]]
name = "Role"
field = "role"
unique = false

[[subscriptions]]
name = "UserEvents"
description = "All user-related events"

[[subscriptions]]
name = "Authentication"
description = "Authentication-related events"

[permissions]
can_reference_from = ["Product", "Order"]
can_reference_to = []

[metadata]
generated_at = "2024-12-11T00:00:00Z"
schema_hash = "blake3:user_schema_v1"